<div id="contact"></div>
<main class="w-full p-top">
  <div class="contact-me-container w-full">
    <div class="purple-line min-w"></div>
    <div class="contact-me-details max-w">
      <section class="header-section">
        <div class="purple-line-inner"></div>
        <h1>Contact</h1>
        <div class="purple-line-inner invisible"></div>
      </section>
      <section class="contact-section">
        <div class="description w-full">
          <h2>Got a problem to solve?</h2>
          <div>
            <p>
              Contact me through this form, I am interested in hearing from you,
              knowing your ideas and contributing to your projects with my work.
            </p>
            <p>Need a Frontend developer? <strong>Contact me!</strong></p>
          </div>
        </div>
        <div class="contact-form w-full">
          <!-- <form
            [formGroup]="contactForm"
            (ngSubmit)="onSubmit()"
          >
            <div
              class="form-group"
              [ngClass]="{
                valid: isFieldValid('name'),
                invalid: !isFieldValid('name'),
                default: !contactForm.get('name')?.touched
              }"
            >
              <input
                formControlName="name"
                type="text"
                placeholder="Your name"
                [ngModel]="contactData.name"
              />
              <img
                *ngIf="isFieldValid('name')"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="
                  !isFieldValid('name') &&
                  (contactForm.get('name')?.touched || formSubmitted)
                "
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p
                *ngIf="
                  contactForm.get('name')?.hasError('required') &&
                  (contactForm.get('name')?.touched || formSubmitted)
                "
                class="error-text"
              >
                Your name is required
              </p>
            </div>

            <div
              class="form-group"
              [ngClass]="{
                valid: isFieldValid('email'),
                invalid: !isFieldValid('email'),
                default: !contactForm.get('email')?.touched
              }"
            >
              <input
                formControlName="email"
                type="email"
                placeholder="Your mail"
                [ngModel]="contactData.email"
                pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
              />
              <img
                *ngIf="isFieldValid('email')"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="
                  !isFieldValid('email') &&
                  (contactForm.get('email')?.touched || formSubmitted)
                "
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p
                *ngIf="
                  contactForm.get('email')?.hasError('required') &&
                  (contactForm.get('email')?.touched || formSubmitted)
                "
                class="error-text"
              >
                Your email is required
              </p>
            </div>

            <div
              class="form-group textarea"
              [ngClass]="{
                valid: isFieldValid('message'),
                invalid: !isFieldValid('message'),
                default: !contactForm.get('message')?.touched
              }"
            >
              <textarea
                formControlName="message"
                placeholder="Your message"
                [ngModel]="contactData.message"
              ></textarea>
              <img
                *ngIf="isFieldValid('message')"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="
                  !isFieldValid('message') &&
                  (contactForm.get('message')?.touched || formSubmitted)
                "
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p
                *ngIf="
                  contactForm.get('message')?.hasError('required') &&
                  (contactForm.get('message')?.touched || formSubmitted)
                "
                class="error-text"
              >
                Your message is empty
              </p>
            </div>

            <div class="form-group checkbox">
              <div class="flex align-center gap-8">
                <div class="check-mark">
                  <input
                    formControlName="privacy"
                    type="checkbox"
                    [(ngModel)]="aggrement"
                    hidden
                  />
                  <img
                    [ngClass]="{ 'check-mark-unchecked': !aggrement, 'check-mark-checked': aggrement,   }"
                    (click)="acceptPrivacyPolicy()"
                    src="./../../../assets/img/contact-checkbox-unchecked.svg"
                    alt=""
                  />
                  <img
                    [ngClass]="{ 'check-mark-unchecked': aggrement, 'check-mark-checked': !aggrement,   }"
                    (click)="acceptPrivacyPolicy()"
                    src="./../../../assets/img/contact-checkbox-checked.svg"
                    alt=""
                  />
                </div>
                <label
                  >I’ve read the <a href="#">privacy policy</a> and agree to the
                  processing of my data as outlined.</label
                >
              </div>
              <p
                *ngIf="
                  contactForm.get('privacy')?.hasError('requiredTrue') &&
                  formSubmitted
                "
                class="error-text"
              >
                Please accept the privacy policy.
              </p>
            </div>
            <div class="flex justify-center">
              <button type="submit" [disabled]="!contactForm.valid">
                Send message :&rpar;
              </button>
            </div>
          </form> -->

          <form #contactForm="ngForm" (ngSubmit)="onSubmit(contactForm)">
            <div
              class="form-group"
              [ngClass]="{ valid: name.valid, invalid: !name.valid }"
            >
              <input
                name="name"
                type="text"
                placeholder="Your name"
                [(ngModel)]="contactData.name"
                #name="ngModel"
                required
              />
              <img
                *ngIf="name.valid"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="!name.valid && name.touched"
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p *ngIf="name.invalid && name.touched" class="error-text">
                Your name is required
              </p>
            </div>

            <div
              class="form-group"
              [ngClass]="{ valid: email.valid, invalid: !email.valid }"
            >
              <input
                name="email"
                type="email"
                placeholder="Your mail"
                [(ngModel)]="contactData.email"
                #email="ngModel"
                required
                email
                pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
              />
              <img
                *ngIf="email.valid"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="!email.valid && email.touched"
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p *ngIf="email.invalid && email.touched" class="error-text">
                Your email is required
              </p>
            </div>

            <div
              class="form-group textarea"
              [ngClass]="{ valid: message.valid, invalid: !message.valid }"
            >
              <textarea
                name="message"
                placeholder="Your message"
                [(ngModel)]="contactData.message"
                #message="ngModel"
                required
              ></textarea>
              <img
                *ngIf="message.valid"
                class="icon"
                src="./../../../assets/img/contact-valid.svg"
              />
              <img
                *ngIf="!message.valid && message.touched"
                class="icon"
                src="./../../../assets/img/contact-invalid.svg"
              />
              <p *ngIf="message.invalid && message.touched" class="error-text">
                Your message is empty
              </p>
            </div>

            <div class="form-group checkbox">
              <div class="flex align-center gap-8">
                <div class="check-mark">
                  <input
                    name="privacy"
                    type="checkbox"
                    [(ngModel)]="aggrement"
                    #privacy="ngModel"
                    required
                    hidden
                  />
                  <img
                    [ngClass]="{
                      'check-mark-unchecked': !aggrement,
                      'check-mark-checked': aggrement
                    }"
                    (click)="acceptPrivacyPolicy()"
                    src="./../../../assets/img/contact-checkbox-unchecked.svg"
                    alt=""
                  />
                  <img
                    [ngClass]="{
                      'check-mark-unchecked': aggrement,
                      'check-mark-checked': !aggrement
                    }"
                    (click)="acceptPrivacyPolicy()"
                    src="./../../../assets/img/contact-checkbox-checked.svg"
                    alt=""
                  />
                </div>
                <label>
                  I’ve read the <a href="#">privacy policy</a> and agree to the
                  processing of my data as outlined.
                </label>
              </div>
              <p *ngIf="privacy.invalid && privacy.touched" class="error-text">
                Please accept the privacy policy.
              </p>
            </div>

            <div class="flex justify-center">
              <button type="submit" [disabled]="!contactForm.form.valid">
                Send message :)
              </button>
            </div>
          </form>
        </div>
      </section>
    </div>
    <div class="purple-line min-w invisible"></div>
  </div>
</main>
